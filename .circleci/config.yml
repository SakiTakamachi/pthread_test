version: 2.1

jobs:
    test:
      macos:
        xcode: 14.2.0
      resource_class: macos.m1.large.gen1
      steps:
        - checkout
        - run: bundle install
        - run: brew install gcc
        - run: gcc -o pthread pthread.c -lpthread
        - run: ./pthread
        - run: uname -m

workflows:
    build-test:
      jobs:
        - test